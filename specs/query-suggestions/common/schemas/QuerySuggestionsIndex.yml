QuerySuggestionsIndex:
  type: object
  additionalProperties: false
  required:
    - indexName
    - sourceIndices
    - languages
    - exclude
  properties:
    indexName:
      type: string
      description: Index name to target.
    sourceIndices:
      $ref: '#/SourceIndicesWithReplicas'
    languages:
      type: array
      items:
        type: string
      description: |
        Languages for which to deduplicate singular and plural suggestions.
        For the configured languages, only the most popular variant will be included in the Query Suggestions index.
    exclude:
      type: array
      items:
        type: string
      description: Words and patterns to exclude from the Query Suggestions index.

SourceIndicesWithReplicas:
  type: array
  description: Source indices used to generate a Query Suggestions index.
  items:
    $ref: '#/SourceIndexWithReplicas'

SourceIndexWithReplicas:
  type: object
  additionalProperties: false
  description: Source index with replicas used to generate a Query Suggestions index.
  required:
    - replicas
    - indexName
    - analyticsTags
    - facets
    - minHits
    - minLetters
    - generate
    - external
  properties:
    replicas:
      type: boolean
      description: true if the Query Suggestions index is a replicas.
    indexName:
      $ref: '../parameters.yml#/indexName'
    analyticsTags:
      $ref: '../parameters.yml#/analyticsTags'
    facets:
      $ref: '../parameters.yml#/facets'
    minHits:
      $ref: '../parameters.yml#/minHits'
    minLetters:
      $ref: '../parameters.yml#/minLetters'
    generate:
      $ref: '../parameters.yml#/generate'
    external:
      $ref: '../parameters.yml#/external'

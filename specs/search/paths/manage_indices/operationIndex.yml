post:
  tags:
    - Indices
  operationId: operationIndex
  summary: Copy, move, or rename an index.
  description: |-
    The `operation`, _copy_ or _move_, will copy or move a source index's (`IndexName`) records, settings, synonyms, and Rules to a `destination` index.
    The operation will overwrite the destination index (apart from the index's API keys and analytics data).
    If the destination index doesn't exist, it will be created.

    The choice between moving or copying an index depends on your needs. Choose:

    - **Move** to rename an index.
    - **Copy** to create a new index with the same records and configuration as an existing one.
  parameters:
    - $ref: '../../../common/parameters.yml#/IndexName'
  requestBody:
    required: true
    content:
      application/json:
        schema:
          title: operationIndexParams
          type: object
          additionalProperties: false
          properties:
            operation:
              $ref: '../../common/enums.yml#/operationType'
            destination:
              $ref: '../../../common/parameters.yml#/indexName'
            scope:
              type: array
              items:
                $ref: '../../common/enums.yml#/scopeType'
              description: |-
                **Only applies to the _copy_ operation.**
                
                If you omit `scope`, the copy command copies all records, settings, synonyms, and Rules.
                
                If you specify `scope`, you don't copy records but only the specified scopes.
          required:
            - operation
            - destination
  responses:
    '200':
      $ref: '../../../common/responses/UpdatedAt.yml'
    '400':
      $ref: '../../../common/responses/BadRequest.yml'
    '402':
      $ref: '../../../common/responses/FeatureNotEnabled.yml'
    '403':
      $ref: '../../../common/responses/MethodNotAllowed.yml'
    '404':
      $ref: '../../../common/responses/IndexNotFound.yml'

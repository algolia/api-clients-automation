post:
  tags:
    - Records
  operationId: saveObject
  x-acl:
    - addObject
  description: |
    Add a record to an index or replace it.

    - If the record doesn't have an `objectID`, a new record with an auto-generated `objectID` is added to your index.
    - If a record with the specified `objectID` exists, the existing record is replaced.
    - If a record with the specified `objectID` doesn't exist, a new record is added to your index.
    - If you add a record to an index that doesn't exist yet, a new index is created.

    To update _some_ attributes of a record, use the [`partial` operation](#tag/Records/operation/partial).
    To add, update, or replace multiple records, use the [`batch` operation](#tag/Records/operation/batch).
  summary: Add or replace a record.
  parameters:
    - $ref: '../../../common/parameters.yml#/IndexName'
  requestBody:
    required: true
    description: The record, a schemaless object with attributes that are useful in the context of search and discovery.
    content:
      application/json:
        schema:
          type: object
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            title: saveObjectResponse
            type: object
            additionalProperties: false
            properties:
              createdAt:
                type: string
                description: Date of creation (ISO-8601 format).
                example: '2023-06-29T15:15:40.747Z'
              taskID:
                $ref: '../../../common/responses/common.yml#/taskID'
              objectID:
                $ref: '../../../common/parameters.yml#/objectID'
            required:
              - taskID
              - createdAt
    '400':
      $ref: '../../../common/responses/BadRequest.yml'
    '402':
      $ref: '../../../common/responses/FeatureNotEnabled.yml'
    '403':
      $ref: '../../../common/responses/MethodNotAllowed.yml'
    '404':
      $ref: '../../../common/responses/IndexNotFound.yml'

delete:
  tags:
    - Indices
  operationId: deleteIndex
  x-acl:
    - deleteIndex
  summary: Delete an index.
  description: |
    Delete an index and all it's settings.

    - Deleting an index doesn't delete it's [analytics data](https://www.algolia.com/doc/api-client/methods/manage-indices/#analytics-data).
    - If you try to delete a non-existing index, the operation is ignored without warning.
    - If the index has replica indices, the replicas become independent indices.
    - You can't delete a replica index directly.
      First, [unlink it](https://www.algolia.com/doc/guides/managing-results/refine-results/sorting/how-to/deleting-replicas/) to turn it into a regular index,
      then delete it.
    - To delete only records from the index, use the `clear` endpoint.
      This preserves the index settings, rules, and synonyms.
  externalDocs:
    url: https://www.algolia.com/doc/guides/sending-and-managing-data/manage-indices-and-apps/manage-indices/how-to/delete-indices/
    description: |
      Related guide: Delete indices.
  parameters:
    - $ref: '../../../common/parameters.yml#/IndexName'
  responses:
    '200':
      $ref: '../../../common/responses/DeletedAt.yml'
    '400':
      $ref: '../../../common/responses/BadRequest.yml'
    '402':
      $ref: '../../../common/responses/FeatureNotEnabled.yml'
    '403':
      $ref: '../../../common/responses/MethodNotAllowed.yml'
    '404':
      $ref: '../../../common/responses/IndexNotFound.yml'

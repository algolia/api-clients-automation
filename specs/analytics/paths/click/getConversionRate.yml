get:
  tags:
    - analytics
  operationId: getConversationRate
  description: |
    Returns a conversion rate (CR). The endpoint returns a value for the complete given time range, as well as a value per day. It also returns the count of conversion and searches used to compute the rates.

    Tracked searches are searches for which the engine returned a queryID, so searches where you've set the clickAnalytics search parameter to true. This is different than the “count” attribute of the response, which includes tracked searches and searches where you didn't enable the clickAnalytics search parameter.

    If the CR is null, it means that Algolia didn't receive any queries with the clickAnalytics search parameter set to true.
    If the CR is 0, it means Algolia didn't receive any conversion events for the queries with the clickAnalytics search parameter set to true.
  summary: Returns a conversion rate (CR).
  parameters:
    - $ref: '../../../common/parameters.yml#/Index'
    - $ref: '../../../common/parameters.yml#/StartDate'
    - $ref: '../../../common/parameters.yml#/EndDate'
    - $ref: '../common/parameters.yml#/Tags'
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            title: getConversationRateResponse
            type: object
            additionalProperties: false
            required:
              - dates
              - trackedSearchCount
              - conversionCount
              - rate
            properties:
              rate:
                $ref: '../common/parameters.yml#/rate'
              trackedSearchCount:
                $ref: '../common/parameters.yml#/trackedSearchCount'
              conversionCount:
                $ref: '../common/parameters.yml#/conversionCount'
              dates:
                type: array
                description: A list of click-through rate events with their date.
                items:
                  type: object
                  additionalProperties: false
                  required:
                    - rate
                    - trackedSearchCount
                    - conversionCount
                    - date
                  properties:
                    rate:
                      $ref: '../common/parameters.yml#/rate'
                    trackedSearchCount:
                      $ref: '../common/parameters.yml#/trackedSearchCount'
                    conversionCount:
                      $ref: '../common/parameters.yml#/conversionCount'
                    date:
                      $ref: '../common/parameters.yml#/date'
    '400':
      $ref: '../../../common/responses/BadRequest.yml'
    '402':
      $ref: '../../../common/responses/FeatureNotEnabled.yml'
    '403':
      $ref: '../../../common/responses/MethodNotAllowed.yml'
    '404':
      $ref: '../../../common/responses/IndexNotFound.yml'

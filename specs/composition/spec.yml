openapi: 3.0.2
info:
  title: Composition API
  description: Composition API.
  version: 1.0.0
components:
  securitySchemes:
    appId:
      $ref: '../common/securitySchemes.yml#/appId'
    apiKey:
      $ref: '../common/securitySchemes.yml#/apiKey'
servers:
  - url: https://{appId}.algolia.net
    variables:
      appId:
        default: ALGOLIA_APPLICATION_ID
  - url: https://{appId}-1.algolianet.com
    variables:
      appId:
        default: ALGOLIA_APPLICATION_ID
  - url: https://{appId}-2.algolianet.com
    variables:
      appId:
        default: ALGOLIA_APPLICATION_ID
  - url: https://{appId}-3.algolianet.com
    variables:
      appId:
        default: ALGOLIA_APPLICATION_ID
  - url: https://{appId}-dsn.algolia.net
    variables:
      appId:
        default: ALGOLIA_APPLICATION_ID
security:
  - appId: []
    apiKey: []
tags:
  - name: Compositions
    description: |
      Manage your compositions and composition settings.
x-tagGroups:
  - name: Search
    tags:
      - Compositions
paths:
  # ######################
  # ### Custom request ###
  # ######################
  /{path}:
    $ref: '../common/paths/customRequest.yml'

  # #########################
  # ### Objects Endpoints ###
  # #########################
  /1/compositions/{compositionID}:
    $ref: 'paths/objects/objects.yml'
  /1/compositions/*/batch:
    $ref: 'paths/objects/multipleBatch.yml'

  # ##########################
  # ### Advanced Endpoints ###
  # ##########################
  /1/compositions/{compositionID}/task/{taskID}:
    $ref: 'paths/advanced/getTask.yml'

  # ################################
  # ### Manage Compositions Endpoints ###
  # ################################
  /1/compositions:
    $ref: 'paths/manage_compositions/listCompositions.yml'

composition:
  type: object
  additionalProperties: false
  properties:
    objectID:
      $ref: '../Identifiers.yml#/compositionObjectID'
    name:
      type: string
      description: Composition name.
      example: 'my lovely crafted composition'
    description:
      type: string
      description: Composition description.
      example: 'my lovely crafted composition that is used for X purpose'
    behavior:
      $ref: './CompositionBehavior.yml#/compositionBehavior'
    sortingStrategy:
      $ref: '#/sortingStrategy'

  required:
    - objectID
    - behavior
    - name

sortingStrategy:
  type: object
  description: |
    A mapping of sorting labels to the indices (or replicas) that implement those sorting rules. The sorting indices MUST be related to the associated main targeted index in the composition.
    Each key is the label your frontend sends at runtime (for example, "Price (asc)"), and each value is the name of the index that should be queried when that label is selected.

    When a request includes a "sortBy" parameter, the platform looks up the corresponding index in this mapping and uses it to execute the query. The main targeted index is replaced
    with the sorting strategy index it is mapped to.

    Up to 20 sorting strategies can be defined.
  additionalProperties:
    type: string
  example:
    'Price (asc)': 'products-low-to-high'
    'Price (desc)': 'products-high-to-low'

multifeed:
  title: multifeed
  type: object
  additionalProperties: false
  properties:
    feeds:
      type: object
      additionalProperties:
        $ref: '#/feedID'
    feedsOrder:
      type: array
      description: A list of Feed IDs that specifies the order in which to order the results in the response. The IDs should be a subset of those in the Feeds object, and only those specified will be processed. When this field is not set, all Feeds are processed and returned with a default ordering.
      items:
        type: string
  required:
    - feeds
  example:
    feeds:
      products-feed:
        injection:
          main:
            source:
              search:
                index: products
          injectedItems:
            - key: sponsored
              position: 0
              length: 4
              source:
                search:
                  index: products
                  params:
                    filters: 'sponsored:true'
      articles-feed:
        injection:
          main:
            source:
              search:
                index: articles
    feedsOrder:
      - products-feed
      - articles-feed

feedID:
  type: object
  description: Description of a feed.
  additionalProperties: false
  oneOf:
    - $ref: '../injection/Behaviour.yml#/injection'

ABTests:
  oneOf:
    - type: array
      description: A/B tests.
      items:
        $ref: '#/ABTest'
    - type: 'null'

ABTest:
  type: object
  additionalProperties: false
  properties:
    abTestID:
      $ref: '../parameters.yml#/abTestID'
    clickSignificance:
      oneOf:
        - type: number
          format: double
          description: >
            [A/B test significance](https://www.algolia.com/doc/guides/ab-testing/what-is-ab-testing/in-depth/how-ab-test-scores-are-calculated/#statistical-significance-or-chance) based on click data. A value of 0.95 or over is considered to be _significant_.
          example: 1
        - type: 'null'
    conversionSignificance:
      oneOf:
        - type: number
          format: double
          description: >
            [A/B test significance](https://www.algolia.com/doc/guides/ab-testing/what-is-ab-testing/in-depth/how-ab-test-scores-are-calculated/#statistical-significance-or-chance) based on conversion. A value of 0.95 or over is considered to be _significant_.
          example: 1
        - type: 'null'
    addToCartSignificance:
      oneOf:
        - type: number
          format: double
          description: >
            [A/B test significance](https://www.algolia.com/doc/guides/ab-testing/what-is-ab-testing/in-depth/how-ab-test-scores-are-calculated/#statistical-significance-or-chance) based on add-to-cart data. A value of 0.95 or over is considered to be _significant_.
          example: 1
        - type: 'null'
    purchaseSignificance:
      oneOf:
        - type: number
          format: double
          description: >
            [A/B test significance](https://www.algolia.com/doc/guides/ab-testing/what-is-ab-testing/in-depth/how-ab-test-scores-are-calculated/#statistical-significance-or-chance) based on purchase data. A value of 0.95 or over is considered to be _significant_.
          example: 1
        - type: 'null'
    revenueSignificance:
      oneOf:
        - type: object
          additionalProperties:
            type: number
            format: double
          description: >
            [A/B test significance](https://www.algolia.com/doc/guides/ab-testing/what-is-ab-testing/in-depth/how-ab-test-scores-are-calculated/#statistical-significance-or-chance) based on revenue data. A value of 0.95 or over is considered to be _significant_.
          example:
            USD: 1
            EUR: 0.87
        - type: 'null'
    updatedAt:
      $ref: '../parameters.yml#/updatedAt'
    createdAt:
      $ref: '../parameters.yml#/createdAt'
    endAt:
      $ref: '../parameters.yml#/endAt'
    name:
      $ref: '../parameters.yml#/name'
    status:
      type: string
      description: A/B test status.
      example: 'running'
    variants:
      $ref: 'Variant.yml#/variants'
  required:
    - status
    - name
    - createdAt
    - endAt
    - updatedAt
    - conversionSignificance
    - clickSignificance
    - purchaseSignificance
    - addToCartSignificance
    - revenueSignificance
    - abTestID
    - variants

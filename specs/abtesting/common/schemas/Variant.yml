variants:
  type: array
  description: A/B test variants.
  items:
    $ref: '#/variant'

variant:
  type: object
  additionalProperties: false
  properties:
    addToCartCount:
      $ref: '../../../analytics/common/parameters.yml#/addToCartCount'
    addToCartRate:
      $ref: '../../../analytics/common/parameters.yml#/addToCartRate'
    averageClickPosition:
      $ref: '../../../analytics/common/parameters.yml#/averageClickPosition'
    clickCount:
      $ref: '../../../analytics/common/parameters.yml#/clickCount'
    clickThroughRate:
      $ref: '../../../analytics/common/parameters.yml#/clickThroughRate'
    conversionCount:
      $ref: '../../../analytics/common/parameters.yml#/conversionCount'
    conversionRate:
      $ref: '../../../analytics/common/parameters.yml#/conversionRate'
    currencies:
      $ref: '../parameters.yml#/currencies'
    description:
      $ref: '../parameters.yml#/description'
    estimatedSampleSize:
      type: integer
      description: The estimated number of searches that will need to be run to achieve the desired confidence level and statistical power. A `minimumDetectableEffect` must be set in the `configuration` object for this to be used.
      example: 0
    filterEffects:
      $ref: '../parameters.yml#/filterEffects'
    index:
      $ref: '../parameters.yml#/index'
    noResultCount:
      $ref: '../../../analytics/common/parameters.yml#/noResultCount'
    purchaseCount:
      $ref: '../../../analytics/common/parameters.yml#/purchaseCount'
    purchaseRate:
      $ref: '../../../analytics/common/parameters.yml#/purchaseRate'
    searchCount:
      $ref: '../../../analytics/common/parameters.yml#/count'
    trackedSearchCount:
      $ref: '../../../analytics/common/parameters.yml#/trackedSearchCount'
    trafficPercentage:
      $ref: '../parameters.yml#/trafficPercentage'
    userCount:
      type: integer
      minimum: 0
      default: 0
      description: Number of users during the A/B test.
      example: 55501
    trackedUserCount:
      type: integer
      minimum: 0
      default: 0
      description: Number of users that performed a tracked search during the A/B test.
      example: 55501
  required:
    - userCount
    - trackedUserCount
    - trafficPercentage
    - trackedSearchCount
    - searchCount
    - noResultCount
    - index
    - description
    - conversionRate
    - conversionCount
    - clickThroughRate
    - clickCount
    - averageClickPosition
    - addToCartRate
    - addToCartCount
    - purchaseRate
    - purchaseCount

variants:
  type: array
  description: A/B test variants.
  items:
    $ref: '#/variant'

variant:
  type: object
  additionalProperties: false
  properties:
    addToCartCount:
      type: integer
      description: Number of add-to-cart events for this variant.
      example: 0
    addToCartRate:
      oneOf:
        - type: number
          format: double
          description: Variant's [add-to-cart rate](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#add-to-cart-rate).
          example: 0.0
        - type: 'null'
    averageClickPosition:
      oneOf:
        - type: integer
          description: Variant's [average click position](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#click-position).
          example: 0
        - type: 'null'
    clickCount:
      type: integer
      description: Number of click events for this variant.
      example: 65131
    clickThroughRate:
      oneOf:
        - type: number
          format: double
          description: Variant's [click-through rate](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#click-through-rate).
          example: 0.22219857724813036
        - type: 'null'
    conversionCount:
      type: integer
      description: Number of click events for this variant.
      example: 4785
    conversionRate:
      oneOf:
        - type: number
          format: double
          description: Variant's [conversion rate](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#conversion-rate).
          example: 0.14546725846658964
        - type: 'null'
    currencies:
      $ref: '../parameters.yml#/currencies'
    description:
      $ref: '../parameters.yml#/description'
    estimatedSampleSize:
      type: integer
      description: The estimated number of searches that will need to be run to achieve the desired confidence level and statistical power. A `minimumDetectableEffect` must be set in the `configuration` object for this to be used.
      example: 0
    filterEffects:
      $ref: '../parameters.yml#/filterEffects'
    index:
      $ref: '../parameters.yml#/index'
    noResultCount:
      oneOf:
        - type: integer
          description: Number of [searches without results](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#searches-without-results) for that variant.
          example: 0
        - type: 'null'
    purchaseCount:
      type: integer
      description: Number of purchase events for this variant.
      example: 0
    purchaseRate:
      oneOf:
        - type: number
          format: double
          description: Variant's [purchase rate](https://www.algolia.com/doc/guides/search-analytics/concepts/metrics/#purchase-rate).
          example: 0.0
        - type: 'null'
    searchCount:
      oneOf:
        - type: integer
          description: Number of searches carried out during the A/B test.
          example: 86269
        - type: 'null'
    trackedSearchCount:
      $ref: '../../../analytics/common/parameters.yml#/trackedSearchCount'
    trafficPercentage:
      $ref: '../parameters.yml#/trafficPercentage'
    userCount:
      oneOf:
        - type: integer
          description: Number of users during the A/B test.
          example: 55501
        - type: 'null'
    trackedUserCount:
      oneOf:
        - type: integer
          description: Number of users that performed a tracked search during the A/B test.
          example: 55501
        - type: 'null'
  required:
    - userCount
    - trackedUserCount
    - trafficPercentage
    - searchCount
    - noResultCount
    - index
    - description
    - conversionRate
    - conversionCount
    - clickThroughRate
    - clickCount
    - averageClickPosition
    - addToCartRate
    - addToCartCount
    - purchaseRate
    - purchaseCount

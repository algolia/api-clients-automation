post:
  tags:
    - events
  operationId: pushEvents
  summary: Send events.
  description: |
    Send a list of events to the Insights API.

    You can include up to 1,000 events in a single request,
    but the request body must be smaller than 2MB.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          additionalProperties: false
          required:
            - events
          properties:
            events:
              type: array
              description: |
                    List of click and conversion events.

                    An event is an object representing a user interaction.
                    Events have attributes that describe the interaction,
                    such as an event name, a type, or a user token.
                    Some attributes require other attributes to be declared,
                    and some attributes can't be declared at the same time.

                    **All** events must be valid or the API returns an error.
              items:
                title: event
                type: object
                description: Click and conversion event.
                additionalProperties: false
                minItems: 1
                maxItems: 1000
                properties:
                  eventType:
                    $ref: '../common/enums.yml#/eventType'
                  eventName:
                    $ref: '../common/parameters.yml/eventName'
                  index:
                    $ref: '../common/parameters.yml/index'
                  userToken:
                    $ref: '../common/parameters.yml/userToken'
                  timestamp:
                    $ref: '../common/parameters.yml/timestamp'
                  objectIDs:
                    $ref: '../common/parameters.yml/objectIDs'
                  filters:
                    $ref: '../common/parameters.yml/filters'
                  positions:
                    $ref: '../common/parameters.yml/positions'
                required:
                  - eventName
                  - eventType
                  - index
                  - userToken
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            title: pushEventsResponse
            type: object
            additionalProperties: false
            required:
              - message
            properties:
              message:
                type: string
                description: A message confirming the event push.
    '400':
      $ref: '../../common/responses/BadRequest.yml'
    '401':
      $ref: '../../common/responses/Unauthorized.yml'
    '413':
      $ref: '../../common/responses/UnprocessableEntity.yml'
    '422':
      $ref: '../../common/responses/RequestEntityTooLarge.yml'

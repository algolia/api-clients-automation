post:
  tags:
    - events
  operationId: pushEvents
  summary: Send events.
  description: |
    Send a list of events to the Insights API.

    You can include up to 1,000 events in a single request,
    but the request body must be smaller than 2MB.
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          additionalProperties: false
          required:
            - events
          properties:
            events:
              type: array
              description: |
                List of click and conversion events.

                An event is an object representing a user interaction.
                Events have attributes that describe the interaction,
                such as an event name, a type, or a user token.
                Some attributes require other attributes to be declared,
                and some attributes can't be declared at the same time.

                **All** events must be valid or the API returns an error.
              items:
                anyOf:
                  - $ref: '../common/schemas/clickedObjectIDsAfterSearch.yml'
                  - $ref: '../common/schemas/convertedObjectIDsAfterSearch.yml'
                  - $ref: '../common/schemas/clickedObjectIDs.yml'
                  - $ref: '../common/schemas/convertedObjectIDs.yml'
                  - $ref: '../common/schemas/clickedFilters.yml'
                  - $ref: '../common/schemas/convertedFilters.yml'
                  - $ref: '../common/schemas/viewObjectIDs.yml'
                  - $ref: '../common/schemas/viewFilters.yml'
              minItems: 1
              maxItems: 1000
                
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            title: pushEventsResponse
            type: object
            additionalProperties: false
            required:
              - message
            properties:
              message:
                type: string
                description: A message confirming the event push.
    '400':
      $ref: '../../common/responses/BadRequest.yml'
    '401':
      $ref: '../../common/responses/Unauthorized.yml'
    '413':
      $ref: '../../common/responses/UnprocessableEntity.yml'
    '422':
      $ref: '../../common/responses/RequestEntityTooLarge.yml'

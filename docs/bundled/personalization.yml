openapi: 3.0.2
info:
  title: Personalization API
  description: >
    The Personalization API lets you access user profiles built from the
    personalization strategy.


    ## Base URLs


    The base URLs for requests to the Personalization API are:


    - `https://personalization.us.algolia.com`

    - `https://personalization.eu.algolia.com`


    Use the URL that matches your [analytics
    region](https://dashboard.algolia.com/account/infrastructure/analytics).


    **All requests must use HTTPS.**


    ## Authentication


    To authenticate your API requests, add these headers:


    - `x-algolia-application-id`. Your Algolia application ID.

    - `x-algolia-api-key`. An API key with the necessary permissions to make the
    request.
      The required access control list (ACL) to make a request is listed in each endpoint's reference.

    You can find your application ID and API key in the [Algolia
    dashboard](https://dashboard.algolia.com/account/api-keys).


    ## Request format


    Request bodies must be JSON objects.


    ## Response status and errors


    The Personalization API returns JSON responses.

    Since JSON doesn't guarantee any specific ordering, don't rely on the order
    of attributes in the API response.


    Successful responses return a `2xx` status. Client errors return a `4xx`
    status. Server errors are indicated by a `5xx` status.

    Error responses have a `message` property with more information.


    ## Rate limiting


    When making requests to the Personalization API, you are limited to 40 API
    calls per second per application.


    The following headers provide information about your current limit:


    - `x-ratelimit-limit`: The number of requests allowed every second.

    - `x-ratelimit-remaining`: The number of requests remaining in the current

    second period.

    - `x-ratelimit-reset`: [Unix timestamp](https://www.unixtimestamp.com) of

    the next time period.


    ## Version


    The current version of the Personalization API is version 1, as indicated by
    the `/1/` in each endpoint's URL.
  version: 1.0.0
servers:
  - url: https://personalization.{region}.algolia.com
    variables:
      region:
        description: The region where your Algolia application is hosted.
        enum:
          - us
          - eu
        default: us
security:
  - appId: []
    apiKey: []
tags:
  - name: profiles
    x-displayName: Profiles
    description: >
      User profiles represent the affinities each user profile has for the
      different facets in your index.

      The more a user viewed and clicked search results with a specific facet,

      the higher the affinity for that facet.
  - name: strategies
    x-displayName: Strategies
    description: >
      The personalization strategy defines how personalization should affect the
      search results,

      and how much each facet and event type impact the personalization.
externalDocs:
  url: https://www.algolia.com/doc/guides/personalization/what-is-personalization
  description: Algolia Personalization.
paths:
  /{path}:
    get:
      operationId: customGet
      summary: Send requests to the Algolia REST API
      description: This method lets you send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.CustomGetAsync("test/minimal");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err := client.CustomGet(client.NewApiCustomGetRequest(
              "test/minimal"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.customGet("test/minimal");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.customGet({ path: 'test/minimal' });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.customGet(path = "test/minimal")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->customGet(
                'test/minimal',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.custom_get(
                path="test/minimal",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.custom_get("test/minimal")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.customGet[JObject](
                path = "test/minimal"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.customGet(path: "test/minimal")

            // >LOG
    post:
      operationId: customPost
      requestBody:
        description: Parameters to send with the custom request.
        content:
          application/json:
            schema:
              type: object
      summary: Send requests to the Algolia REST API
      description: This method lets you send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.CustomPostAsync("test/minimal");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err := client.CustomPost(client.NewApiCustomPostRequest(
              "test/minimal"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.customPost("test/minimal");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.customPost({ path: 'test/minimal' });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.customPost(path = "test/minimal")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->customPost(
                'test/minimal',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.custom_post(
                path="test/minimal",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.custom_post("test/minimal")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.customPost[JObject](
                path = "test/minimal"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.customPost(path: "test/minimal")

            // >LOG
    put:
      operationId: customPut
      requestBody:
        description: Parameters to send with the custom request.
        content:
          application/json:
            schema:
              type: object
      summary: Send requests to the Algolia REST API
      description: This method lets you send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.CustomPutAsync("test/minimal");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err := client.CustomPut(client.NewApiCustomPutRequest(
              "test/minimal"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.customPut("test/minimal");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.customPut({ path: 'test/minimal' });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.customPut(path = "test/minimal")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->customPut(
                'test/minimal',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.custom_put(
                path="test/minimal",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.custom_put("test/minimal")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.customPut[JObject](
                path = "test/minimal"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.customPut(path: "test/minimal")

            // >LOG
    delete:
      operationId: customDelete
      summary: Send requests to the Algolia REST API
      description: This method lets you send requests to the Algolia REST API.
      parameters:
        - $ref: '#/components/parameters/PathInPath'
        - $ref: '#/components/parameters/Parameters'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.CustomDeleteAsync("test/minimal");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err :=
            client.CustomDelete(client.NewApiCustomDeleteRequest(
              "test/minimal"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.customDelete("test/minimal");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.customDelete({ path: 'test/minimal'
            });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.customDelete(path = "test/minimal")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->customDelete(
                'test/minimal',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.custom_delete(
                path="test/minimal",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.custom_delete("test/minimal")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.customDelete[JObject](
                path = "test/minimal"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.customDelete(path: "test/minimal")

            // >LOG
  /1/profiles/personalization/{userToken}:
    get:
      tags:
        - profiles
      operationId: getUserTokenProfile
      x-acl:
        - recommendation
      summary: Retrieve a user profile
      description: Retrieves a user profile and their affinities for different facets.
      parameters:
        - $ref: '#/components/parameters/UserToken'
      responses:
        '200':
          description: OK
          headers:
            x-ratelimit-limit:
              $ref: '#/components/headers/x-ratelimit-limit'
            x-ratelimit-remaining:
              $ref: '#/components/headers/x-ratelimit-remaining'
            x-ratelimit-reset:
              $ref: '#/components/headers/x-ratelimit-reset'
          content:
            application/json:
              schema:
                title: getUserTokenResponse
                type: object
                additionalProperties: false
                required:
                  - userToken
                  - scores
                  - lastEventAt
                properties:
                  userToken:
                    $ref: '#/components/schemas/userToken'
                  lastEventAt:
                    type: string
                    description: >-
                      Date and time of the last event from this user, in RFC
                      3339 format.
                  scores:
                    type: object
                    description: >
                      Scores for different facet values.


                      Scores represent the user affinity for a user profile
                      towards specific facet values,

                      given the personalization strategy and past events.
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.GetUserTokenProfileAsync("UserToken");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err :=
            client.GetUserTokenProfile(client.NewApiGetUserTokenProfileRequest(
              "UserToken"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.getUserTokenProfile("UserToken");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.getUserTokenProfile({ userToken:
            'UserToken' });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.getUserTokenProfile(userToken = "UserToken")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->getUserTokenProfile(
                'UserToken',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.get_user_token_profile(
                user_token="UserToken",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.get_user_token_profile("UserToken")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.getUserTokenProfile(
                userToken = "UserToken"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.getUserTokenProfile(userToken:
            "UserToken")

            // >LOG
        - lang: cURL
          label: curl
          source: |-
            curl --request GET \
              --url https://personalization.us.algolia.com/1/profiles/personalization/test-user-123 \
              --header 'accept: application/json' \
              --header 'x-algolia-api-key: ALGOLIA_API_KEY' \
              --header 'x-algolia-application-id: ALGOLIA_APPLICATION_ID'
  /1/profiles/{userToken}:
    delete:
      tags:
        - profiles
      operationId: deleteUserProfile
      x-acl:
        - recommendation
      summary: Delete a user profile
      description: >
        Deletes a user profile.


        The response includes a date and time when the user profile can safely
        be considered deleted.
      parameters:
        - $ref: '#/components/parameters/UserToken'
      responses:
        '200':
          description: OK
          headers:
            x-ratelimit-limit:
              $ref: '#/components/headers/x-ratelimit-limit'
            x-ratelimit-remaining:
              $ref: '#/components/headers/x-ratelimit-remaining'
            x-ratelimit-reset:
              $ref: '#/components/headers/x-ratelimit-reset'
          content:
            application/json:
              schema:
                title: deleteUserProfileResponse
                type: object
                additionalProperties: false
                required:
                  - userToken
                  - deletedUntil
                properties:
                  userToken:
                    $ref: '#/components/schemas/userToken'
                  deletedUntil:
                    type: string
                    description: >
                      Date and time when the user profile can be safely
                      considered to be deleted.

                      Any events received after the `deletedUntil` date start a
                      new user profile.
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.DeleteUserProfileAsync("UserToken");
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err :=
            client.DeleteUserProfile(client.NewApiDeleteUserProfileRequest(
              "UserToken"))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.deleteUserProfile("UserToken");

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.deleteUserProfile({ userToken:
            'UserToken' });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.deleteUserProfile(userToken = "UserToken")


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->deleteUserProfile(
                'UserToken',
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.delete_user_profile(
                user_token="UserToken",
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.delete_user_profile("UserToken")

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.deleteUserProfile(
                userToken = "UserToken"
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.deleteUserProfile(userToken:
            "UserToken")

            // >LOG
        - lang: cURL
          label: curl
          source: |-
            curl --request DELETE \
              --url https://personalization.us.algolia.com/1/profiles/test-user-123 \
              --header 'accept: application/json' \
              --header 'x-algolia-api-key: ALGOLIA_API_KEY' \
              --header 'x-algolia-application-id: ALGOLIA_APPLICATION_ID'
  /1/strategies/personalization:
    get:
      tags:
        - strategies
      operationId: getPersonalizationStrategy
      x-acl:
        - recommendation
      summary: Retrieve the personalization strategy
      description: Retrieves the current personalization strategy.
      responses:
        '200':
          description: OK
          headers:
            x-ratelimit-limit:
              $ref: '#/components/headers/x-ratelimit-limit'
            x-ratelimit-remaining:
              $ref: '#/components/headers/x-ratelimit-remaining'
            x-ratelimit-reset:
              $ref: '#/components/headers/x-ratelimit-reset'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/personalizationStrategyParams'
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.GetPersonalizationStrategyAsync();
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err := client.GetPersonalizationStrategy()

            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.getPersonalizationStrategy();

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.getPersonalizationStrategy();


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.getPersonalizationStrategy()


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->getPersonalizationStrategy();


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.get_personalization_strategy()


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.get_personalization_strategy

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.getPersonalizationStrategy(
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client.getPersonalizationStrategy()

            // >LOG
        - lang: cURL
          label: curl
          source: |-
            curl --request GET \
              --url https://personalization.us.algolia.com/1/strategies/personalization \
              --header 'accept: application/json' \
              --header 'x-algolia-api-key: ALGOLIA_API_KEY' \
              --header 'x-algolia-application-id: ALGOLIA_APPLICATION_ID'
    post:
      tags:
        - strategies
      operationId: setPersonalizationStrategy
      x-acl:
        - recommendation
      summary: Define the personalization strategy
      description: Creates a new personalization strategy.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/personalizationStrategyParams'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                title: setPersonalizationStrategyResponse
                type: object
                additionalProperties: false
                required:
                  - message
                properties:
                  message:
                    type: string
                    description: A message confirming the strategy update.
                    example: Strategy was successfully updated.
        '400':
          $ref: '#/components/responses/BadRequest'
        '402':
          $ref: '#/components/responses/FeatureNotEnabled'
        '403':
          $ref: '#/components/responses/MethodNotAllowed'
        '404':
          $ref: '#/components/responses/IndexNotFound'
      x-codeSamples:
        - lang: csharp
          label: C#
          source: |
            // Initialize the client
            var client = new PersonalizationClient(
              new PersonalizationConfig(
                "ALGOLIA_APPLICATION_ID",
                "ALGOLIA_API_KEY",
                "ALGOLIA_APPLICATION_REGION"
              )
            );

            // Call the API
            var response = await client.SetPersonalizationStrategyAsync(
              new PersonalizationStrategyParams
              {
                EventsScoring = new List<EventsScoring>
                {
                  new EventsScoring
                  {
                    Score = 42,
                    EventName = "Algolia",
                    EventType = Enum.Parse<EventType>("Click"),
                  },
                },
                FacetsScoring = new List<FacetsScoring>
                {
                  new FacetsScoring { Score = 42, FacetName = "Event" },
                },
                PersonalizationImpact = 42,
              }
            );
            // >LOG
        - lang: go
          label: Go
          source: >
            // Initialize the client with your application region, eg.
            personalization.ALGOLIA_APPLICATION_REGION

            client, err := personalization.NewClient("ALGOLIA_APPLICATION_ID",
            "ALGOLIA_API_KEY", personalization.US)

            if err != nil {
              // The client can fail to initialize if you pass an invalid parameter.
              panic(err)
            }


            // Call the API

            response, err :=
            client.SetPersonalizationStrategy(client.NewApiSetPersonalizationStrategyRequest(

              personalization.NewEmptyPersonalizationStrategyParams().SetEventsScoring(
                []personalization.EventsScoring{
                  *personalization.NewEmptyEventsScoring().SetScore(42).SetEventName("Algolia").SetEventType(personalization.EventType("click")),
                }).
                SetFacetsScoring(
                  []personalization.FacetsScoring{
                    *personalization.NewEmptyFacetsScoring().SetScore(42).SetFacetName("Event"),
                  }).
                SetPersonalizationImpact(42)))
            if err != nil {
              // handle the eventual error
              panic(err)
            }


            // >LOG

            // use the model directly

            print(response)
        - lang: java
          label: Java
          source: >
            // Initialize the client

            PersonalizationClient client = new
            PersonalizationClient("ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY",
            "ALGOLIA_APPLICATION_REGION");


            // Call the API

            client.setPersonalizationStrategy(
              new PersonalizationStrategyParams()
                .setEventsScoring(Arrays.asList(new EventsScoring().setScore(42).setEventName("Algolia").setEventType(EventType.CLICK)))
                .setFacetsScoring(Arrays.asList(new FacetsScoring().setScore(42).setFacetName("Event")))
                .setPersonalizationImpact(42)
            );

            // >LOG
        - lang: javascript
          label: JavaScript
          source: >
            // Initialize the client

            // Replace 'us' with your Algolia Application Region

            const client = algoliasearch('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY').initPersonalization({ region: 'us' });


            // Call the API

            const response = await client.setPersonalizationStrategy({
              eventsScoring: [{ score: 42, eventName: 'Algolia', eventType: 'click' }],
              facetsScoring: [{ score: 42, facetName: 'Event' }],
              personalizationImpact: 42,
            });


            // >LOG

            // use typed response

            console.log(response);
        - lang: kotlin
          label: Kotlin
          source: >
            // Initialize the client

            val client = PersonalizationClient(appId = "ALGOLIA_APPLICATION_ID",
            apiKey = "ALGOLIA_API_KEY", region = "ALGOLIA_APPLICATION_REGION")


            // Call the API

            var response = client.setPersonalizationStrategy(
              personalizationStrategyParams = PersonalizationStrategyParams(
                eventsScoring = listOf(
                  EventsScoring(
                    score = 42,
                    eventName = "Algolia",
                    eventType = EventType.entries.first { it.value == "click" },
                  ),
                ),
                facetsScoring = listOf(
                  FacetsScoring(
                    score = 42,
                    facetName = "Event",
                  ),
                ),
                personalizationImpact = 42,
              ),
            )


            // >LOG

            // Use the response

            println(response)
        - lang: php
          label: PHP
          source: >
            // Initialize the client

            $client = PersonalizationClient::create('ALGOLIA_APPLICATION_ID',
            'ALGOLIA_API_KEY', 'ALGOLIA_APPLICATION_REGION');


            // Call the API

            $response = $client->setPersonalizationStrategy(
                ['eventsScoring' => [
                    ['score' => 42,
                        'eventName' => 'Algolia',
                        'eventType' => 'click',
                    ],
                ],
                    'facetsScoring' => [
                        ['score' => 42,
                            'facetName' => 'Event',
                        ],
                    ],
                    'personalizationImpact' => 42,
                ],
            );


            // >LOG

            // play with the response

            var_dump($response);
        - lang: python
          label: Python
          source: >
            # Initialize the client

            # In an asynchronous context, you can use PersonalizationClient
            instead, which exposes the exact same methods.

            client = PersonalizationClientSync(
                "ALGOLIA_APPLICATION_ID", "ALGOLIA_API_KEY", "ALGOLIA_APPLICATION_REGION"
            )


            # Call the API

            response = client.set_personalization_strategy(
                personalization_strategy_params={
                    "eventsScoring": [
                        {
                            "score": 42,
                            "eventName": "Algolia",
                            "eventType": "click",
                        },
                    ],
                    "facetsScoring": [
                        {
                            "score": 42,
                            "facetName": "Event",
                        },
                    ],
                    "personalizationImpact": 42,
                },
            )


            # >LOG

            # use the class directly

            print(response)
        - lang: ruby
          label: Ruby
          source: |
            # Initialize the client
            client = Algolia::PersonalizationClient.create(
              "ALGOLIA_APPLICATION_ID",
              "ALGOLIA_API_KEY",
              "ALGOLIA_APPLICATION_REGION"
            )

            # Call the API
            response = client.set_personalization_strategy(
              Algolia::Personalization::PersonalizationStrategyParams.new(
                events_scoring: [
                  Algolia::Personalization::EventsScoring.new(score: 42, event_name: "Algolia", event_type: "click")
                ],
                facets_scoring: [Algolia::Personalization::FacetsScoring.new(score: 42, facet_name: "Event")],
                personalization_impact: 42
              )
            )

            # >LOG
            # use the class directly
            puts(response)

            # print the JSON response
            puts(response.to_json)
        - lang: scala
          label: Scala
          source: |
            // Initialize the client
            val client = PersonalizationClient(
              appId = "ALGOLIA_APPLICATION_ID",
              apiKey = "ALGOLIA_API_KEY",
              region = "ALGOLIA_APPLICATION_REGION"
            )

            // Call the API
            val response = Await.result(
              client.setPersonalizationStrategy(
                personalizationStrategyParams = PersonalizationStrategyParams(
                  eventsScoring = Seq(
                    EventsScoring(
                      score = 42,
                      eventName = "Algolia",
                      eventType = EventType.withName("click")
                    )
                  ),
                  facetsScoring = Seq(
                    FacetsScoring(
                      score = 42,
                      facetName = "Event"
                    )
                  ),
                  personalizationImpact = 42
                )
              ),
              Duration(100, "sec")
            )
            // >LOG
        - lang: swift
          label: Swift
          source: >
            // Initialize the client

            let client = try PersonalizationClient(appID:
            "ALGOLIA_APPLICATION_ID", apiKey: "ALGOLIA_API_KEY", region: .us)


            // Call the API

            let response = try await client
                .setPersonalizationStrategy(personalizationStrategyParams: PersonalizationStrategyParams(
                    eventsScoring: [
                        EventsScoring(score: 42, eventName: "Algolia", eventType: PersonalizationEventType.click),
                    ],
                    facetsScoring: [FacetsScoring(score: 42, facetName: "Event")],
                    personalizationImpact: 42
                ))
            // >LOG
        - lang: cURL
          label: curl
          source: |-
            curl --request POST \
              --url https://personalization.us.algolia.com/1/strategies/personalization \
              --header 'accept: application/json' \
              --header 'content-type: application/json' \
              --header 'x-algolia-api-key: ALGOLIA_API_KEY' \
              --header 'x-algolia-application-id: ALGOLIA_APPLICATION_ID' \
              --data '{"eventsScoring":[{"score":42,"eventName":"lorem","eventType":"click"}],"facetsScoring":[{"score":42,"facetName":"lorem"}],"personalizationImpact":0}'
components:
  securitySchemes:
    appId:
      type: apiKey
      in: header
      name: x-algolia-application-id
      description: Your Algolia application ID.
    apiKey:
      type: apiKey
      in: header
      name: x-algolia-api-key
      description: >
        Your Algolia API key with the necessary permissions to make the request.

        Permissions are controlled through access control lists (ACL) and access
        restrictions.

        The required ACL to make a request is listed in each endpoint's
        reference.
  parameters:
    PathInPath:
      name: path
      in: path
      description: Path of the endpoint, for example `1/newFeature`.
      required: true
      schema:
        type: string
        example: /keys
    Parameters:
      name: parameters
      in: query
      description: Query parameters to apply to the current query.
      schema:
        type: object
        additionalProperties: true
    UserToken:
      name: userToken
      in: path
      required: true
      description: >-
        Unique identifier representing a user for which to fetch the
        personalization profile.
      schema:
        $ref: '#/components/schemas/userToken'
  schemas:
    ErrorBase:
      description: Error.
      type: object
      x-keep-model: true
      additionalProperties: true
      properties:
        message:
          type: string
          example: Invalid Application-Id or API-Key
    userToken:
      type: string
      description: >
        Unique pseudonymous or anonymous user identifier.


        This helps with analytics and click and conversion events.

        For more information, see [user
        token](https://www.algolia.com/doc/guides/sending-events/concepts/usertoken).
      example: test-user-123
      x-categories:
        - Personalization
    score:
      type: integer
      description: Event score.
    EventType:
      title: eventType
      type: string
      description: Event type.
      enum:
        - click
        - conversion
        - view
    eventsScoring:
      type: object
      additionalProperties: false
      required:
        - score
        - eventName
        - eventType
      properties:
        score:
          $ref: '#/components/schemas/score'
        eventName:
          type: string
          description: Event name.
        eventType:
          $ref: '#/components/schemas/EventType'
    facetsScoring:
      type: object
      additionalProperties: false
      required:
        - score
        - facetName
      properties:
        score:
          $ref: '#/components/schemas/score'
        facetName:
          type: string
          description: Facet attribute name.
    personalizationStrategyParams:
      type: object
      additionalProperties: false
      required:
        - eventsScoring
        - facetsScoring
        - personalizationImpact
      properties:
        eventsScoring:
          type: array
          description: >
            Scores associated with each event.


            The higher the scores, the higher the impact of those events on the
            personalization of search results.
          items:
            $ref: '#/components/schemas/eventsScoring'
        facetsScoring:
          type: array
          description: >
            Scores associated with each facet.


            The higher the scores, the higher the impact of those events on the
            personalization of search results.
          items:
            $ref: '#/components/schemas/facetsScoring'
        personalizationImpact:
          type: integer
          minimum: 0
          maximum: 100
          description: |
            Impact of personalization on the search results.

            If set to 0, personalization has no impact on the search results.
  responses:
    BadRequest:
      description: Bad request or request arguments.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    FeatureNotEnabled:
      description: This feature is not enabled on your Algolia account.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    MethodNotAllowed:
      description: Method not allowed with this API key.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
    IndexNotFound:
      description: Index not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorBase'
  headers:
    x-ratelimit-limit:
      description: Number of allowed requests per one minute.
      example: 100
      schema:
        type: integer
    x-ratelimit-remaining:
      description: Number of remaining requests in the current period.
      example: 99
      schema:
        type: integer
    x-ratelimit-reset:
      description: >-
        Timstamp when the rate limit will reset, measured in seconds since the
        Unix epoch.
      example: 1710682486
      schema:
        type: integer
x-tagGroups:
  - name: General
    tags:
      - profiles
      - strategies

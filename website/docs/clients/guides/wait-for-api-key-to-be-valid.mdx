---
title: Wait for an API key to be valid
---

import { CodeBlockLanguage } from '../../../src/components/CodeBlockLanguage';
import { getSnippet, waitForTaskSnippet } from '../../../src/snippets';

> The `waitForApiKey` method is only available in the `search` client context.

Adding, updating or deleting API keys is not always instantaneous, which is why you might want to ensure the job has been processed before jumping to an other task.

We provide a `waitForApiKey` helper method for you to easily wait for a specific `operation` made on a `key`.

## `add`

<CodeBlockLanguage snippet={(language) => (
`${getSnippet(language, 'search', 'import')}

${getSnippet(language, 'search', 'init')}

${getSnippet(language, 'search', 'addApiKey')}

${waitForTaskSnippet(language)}
`)}/>

## `update`

<CodeBlockLanguage snippet={(language) => (
`${getSnippet(language, 'search', 'import')}

${getSnippet(language, 'search', 'init')}

${getSnippet(language, 'search', 'updateApiKey')}

${waitForTaskSnippet(language)}
`)}/>

## `delete`

<CodeBlockLanguage snippet={(language) => (
`${getSnippet(language, 'search', 'import')}

${getSnippet(language, 'search', 'init')}

${getSnippet(language, 'search', 'deleteApiKey')}

${waitForTaskSnippet(language)}
`)}/>

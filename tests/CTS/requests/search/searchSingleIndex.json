[
  {
    "testName": "search with minimal parameters",
    "parameters": {
      "indexName": "indexName"
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST"
    }
  },
  {
    "testName": "search with special characters in indexName",
    "parameters": {
      "indexName": "cts_e2e_space in index"
    },
    "request": {
      "path": "/1/indexes/cts_e2e_space%20in%20index/query",
      "method": "POST"
    },
    "response": {
      "statusCode": 200
    }
  },
  {
    "testName": "search with searchParams",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "query": "myQuery",
        "facetFilters": [
          "tags:algolia"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "query": "myQuery",
        "facetFilters": [
          "tags:algolia"
        ]
      }
    }
  },
  {
    "testName": "single search retrieve snippets",
    "parameters": {
      "indexName": "cts_e2e_browse",
      "searchParams": {
        "query": "batman mask of the phantasm",
        "attributesToRetrieve": [
          "*"
        ],
        "attributesToSnippet": [
          "*:20"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/cts_e2e_browse/query",
      "method": "POST",
      "body": {
        "query": "batman mask of the phantasm",
        "attributesToRetrieve": [
          "*"
        ],
        "attributesToSnippet": [
          "*:20"
        ]
      }
    },
    "response": {
      "statusCode": 200,
      "body": {
        "nbHits": 1,
        "hits": [
          {
            "_snippetResult": {
              "genres": [
                {
                  "value": "Animated",
                  "matchLevel": "none"
                },
                {
                  "value": "Superhero",
                  "matchLevel": "none"
                },
                {
                  "value": "Romance",
                  "matchLevel": "none"
                }
              ],
              "year": {
                "value": "1993",
                "matchLevel": "none"
              }
            },
            "_highlightResult": {
              "genres": [
                {
                  "value": "Animated",
                  "matchLevel": "none",
                  "matchedWords": []
                },
                {
                  "value": "Superhero",
                  "matchLevel": "none",
                  "matchedWords": []
                },
                {
                  "value": "Romance",
                  "matchLevel": "none",
                  "matchedWords": []
                }
              ],
              "year": {
                "value": "1993",
                "matchLevel": "none",
                "matchedWords": []
              }
            }
          }
        ]
      }
    }
  },
  {
    "testName": "query",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "query": "phone"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "query": "phone"
      }
    }
  },
  {
    "testName": "filters",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "country:US AND price.gross < 2.0"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "country:US AND price.gross < 2.0"
      }
    }
  },
  {
    "testName": "distinct",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "distinct": true
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "distinct": true
      }
    }
  },
  {
    "testName": "filtersNumeric",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "price < 10"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "price < 10"
      }
    }
  },
  {
    "testName": "filtersTimestamp",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "NOT date_timestamp:1514764800 TO 1546300799"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "NOT date_timestamp:1514764800 TO 1546300799"
      }
    }
  },
  {
    "testName": "filtersSumOrFiltersScoresFalse",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "(company:Google<score=3> OR company:Amazon<score=2> OR company:Facebook<score=1>)",
        "sumOrFiltersScores": false
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "(company:Google<score=3> OR company:Amazon<score=2> OR company:Facebook<score=1>)",
        "sumOrFiltersScores": false
      }
    }
  },
  {
    "testName": "filtersSumOrFiltersScoresTrue",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "(company:Google<score=3> OR company:Amazon<score=2> OR company:Facebook<score=1>)",
        "sumOrFiltersScores": true
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "(company:Google<score=3> OR company:Amazon<score=2> OR company:Facebook<score=1>)",
        "sumOrFiltersScores": true
      }
    }
  },
  {
    "testName": "filtersStephenKing",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "author:\"Stephen King\""
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "author:\"Stephen King\""
      }
    }
  },
  {
    "testName": "filtersNotTags",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "NOT _tags:non-fiction"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "NOT _tags:non-fiction"
      }
    }
  },
  {
    "testName": "facetFiltersList",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "facetFilters": [
          "publisher:Penguin",
          [
            "author:Stephen King",
            "genre:Horror"
          ]
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "facetFilters": [
          "publisher:Penguin",
          [
            "author:Stephen King",
            "genre:Horror"
          ]
        ]
      }
    }
  },
  {
    "testName": "facetFiltersNeg",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "facetFilters": "category:-Ebook"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "facetFilters": "category:-Ebook"
      }
    }
  },
  {
    "testName": "filtersAndFacetFilters",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "(author:\"Stephen King\" OR genre:\"Horror\")",
        "facetFilters": [
          "publisher:Penguin"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "(author:\"Stephen King\" OR genre:\"Horror\")",
        "facetFilters": [
          "publisher:Penguin"
        ]
      }
    }
  },
  {
    "testName": "facet author genre",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "facets":["author","genre"]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "facets":["author","genre"]
      }
    }
  },
  {
    "testName": "facet wildcard",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "facets":["*"]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "facets":["*"]
      }
    }
  },
  {
    "testName": "maxValuesPerFacet",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "maxValuesPerFacet":1000
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "maxValuesPerFacet":1000
      }
    }
  },
  {
    "testName": "aroundLatLng",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "aroundLatLng": "40.71, -74.01"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "aroundLatLng": "40.71, -74.01"
      }
    }
  },
  {
    "testName": "aroundLatLngViaIP",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "aroundLatLngViaIP": true
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "aroundLatLngViaIP": true
      }
    }
  },
  {
    "testName": "aroundRadius",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "aroundLatLng": "40.71, -74.01",
        "aroundRadius": 1000000
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "aroundLatLng": "40.71, -74.01",
        "aroundRadius": 1000000
      }
    }
  },
  {
    "testName": "insideBoundingBox",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "insideBoundingBox": [
          [
            49.067996905313834,
            65.73828125,
            25.905859247243498,
            128.8046875
          ]
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "insideBoundingBox": [
          [
            49.067996905313834,
            65.73828125,
            25.905859247243498,
            128.8046875
          ]
        ]
      }
    }
  },
  {
    "testName": "insidePolygon",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "insidePolygon": [
          [
            42.01,
            -124.31,
            48.835509470063045,
            -124.40453125000005,
            45.01082951668149,
            -65.95726562500005,
            31.247243545293433,
            -81.06578125000004,
            25.924152577235226,
            -97.68234374999997,
            32.300311895879545,
            -117.54828125
          ]
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "insidePolygon": [
          [
            42.01,
            -124.31,
            48.835509470063045,
            -124.40453125000005,
            45.01082951668149,
            -65.95726562500005,
            31.247243545293433,
            -81.06578125000004,
            25.924152577235226,
            -97.68234374999997,
            32.300311895879545,
            -117.54828125
          ]
        ]
      }
    }
  },
  {
    "testName": "insidePolygon",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "insidePolygon": [
          [
            42.01,
            -124.31,
            48.835509470063045,
            -124.40453125000005,
            45.01082951668149,
            -65.95726562500005,
            31.247243545293433,
            -81.06578125000004,
            25.924152577235226,
            -97.68234374999997,
            32.300311895879545,
            -117.54828125
          ]
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "insidePolygon": [
          [
            42.01,
            -124.31,
            48.835509470063045,
            -124.40453125000005,
            45.01082951668149,
            -65.95726562500005,
            31.247243545293433,
            -81.06578125000004,
            25.924152577235226,
            -97.68234374999997,
            32.300311895879545,
            -117.54828125
          ]
        ]
      }
    }
  },
  {
    "testName": "optionalFilters",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "optionalFilters": [
          "can_deliver_quickly:true"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "optionalFilters": [
          "can_deliver_quickly:true"
        ]
      }
    }
  },
  {
    "testName": "optionalFiltersMany",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "optionalFilters": [
          "brand:Apple<score=3>",
          "brand:Samsung<score=2>",
          "brand:-Huawei"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "optionalFilters": [
          "brand:Apple<score=3>",
          "brand:Samsung<score=2>",
          "brand:-Huawei"
        ]
      }
    }
  },
  {
    "testName": "optionalFiltersSimple",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "optionalFilters": [
          "brand:Apple<score=2>",
          "type:tablet"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "optionalFilters": [
          "brand:Apple<score=2>",
          "type:tablet"
        ]
      }
    }
  },
  {
    "testName": "restrictSearchableAttributes",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "restrictSearchableAttributes": [
          "title_fr"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "restrictSearchableAttributes": [
          "title_fr"
        ]
      }
    }
  },
  {
    "testName": "getRankingInfo",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "getRankingInfo": true
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "getRankingInfo": true
      }
    }
  },
  {
    "testName": "clickAnalytics",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "clickAnalytics": true
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "clickAnalytics": true
      }
    }
  },
  {
    "testName": "clickAnalyticsUserToken",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "clickAnalytics": true,
        "userToken": "user-1"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "clickAnalytics": true,
        "userToken": "user-1"
      }
    }
  },
  {
    "testName": "enablePersonalization",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "enablePersonalization": true,
        "userToken": "user-1"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "enablePersonalization": true,
        "userToken": "user-1"
      }
    }
  },
  {
    "testName": "userToken",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "userToken": "user-1"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "userToken": "user-1"
      }
    }
  },
  {
    "testName": "analyticsTag",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "analyticsTags": [
          "YOUR_ANALYTICS_TAG"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "analyticsTags": [
          "YOUR_ANALYTICS_TAG"
        ]
      }
    }
  },
  {
    "testName": "facetFiltersUsers",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "facetFilters": [
          "user:user42",
          "user:public"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "facetFilters": [
          "user:user42",
          "user:public"
        ]
      }
    }
  },
  {
    "testName": "buildTheQuery",
    "parameters": {
      "indexName": "indexName",
      "searchParams": {
        "filters": "categoryPageId: Men's Clothing",
        "hitsPerPage": 50,
        "analyticsTags": [
          "mens-clothing"
        ]
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "body": {
        "filters": "categoryPageId: Men's Clothing",
        "hitsPerPage": 50,
        "analyticsTags": [
          "mens-clothing"
        ]
      }
    }
  },
  {
    "testName": "with algolia user id",
    "parameters": {
      "indexName": "indexName"
    },
    "requestOptions": {
      "headers": {
        "X-Algolia-User-ID": "user123"
      }
    },
    "request": {
      "path": "/1/indexes/indexName/query",
      "method": "POST",
      "headers": {
        "X-Algolia-User-ID": "user123"
      }
    }
  }
]

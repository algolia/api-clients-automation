# Code generated by OpenAPI Generator (https://openapi-generator.tech), manual changes will be lost - read more on https://github.com/algolia/api-clients-automation. DO NOT EDIT.
from json import loads
from algoliasearch.http.transporter import EchoTransporter
from algoliasearch.http.transporter_sync import EchoTransporterSync
from algoliasearch.recommend.client import RecommendClient
from algoliasearch.recommend.client import RecommendClientSync
from algoliasearch.recommend.config import RecommendConfig


class TestRecommendClient:
    _config = RecommendConfig("test_app_id", "test_api_key")
    _client = RecommendClient.create_with_config(
        config=_config, transporter=EchoTransporter(_config)
    )

    async def test_batch_recommend_rules_(self):
        """
        batch recommend rules
        """
        _req = await self._client.batch_recommend_rules_with_http_info(
            index_name="indexName",
            model="related-products",
        )

        assert (
            _req.path == "/1/indexes/indexName/related-products/recommend/rules/batch"
        )
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    async def test_custom_delete_(self):
        """
        allow del method for a custom path with minimal parameters
        """
        _req = await self._client.custom_delete_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_custom_delete_1(self):
        """
        allow del method for a custom path with all parameters
        """
        _req = await self._client.custom_delete_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_custom_get_(self):
        """
        allow get method for a custom path with minimal parameters
        """
        _req = await self._client.custom_get_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_custom_get_1(self):
        """
        allow get method for a custom path with all parameters
        """
        _req = await self._client.custom_get_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters with space",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "GET"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters%20with%20space"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_custom_get_2(self):
        """
        requestOptions should be escaped too
        """
        _req = await self._client.custom_get_with_http_info(
            path="test/all",
            parameters={
                "query": "to be overridden",
            },
            request_options={
                "headers": loads("""{"x-header-1":"spaces are left alone"}"""),
                "query_parameters": loads(
                    """{"query":"parameters with space","and an array":["array","with spaces"]}"""
                ),
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "GET"
        assert (
            _req.query_parameters.items()
            == {
                "query": "parameters%20with%20space",
                "and%20an%20array": "array%2Cwith%20spaces",
            }.items()
        )
        assert _req.headers.items() >= {"x-header-1": "spaces are left alone"}.items()
        assert _req.data is None

    async def test_custom_post_(self):
        """
        allow post method for a custom path with minimal parameters
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    async def test_custom_post_1(self):
        """
        allow post method for a custom path with all parameters
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
            body={
                "body": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"body":"parameters"}""")

    async def test_custom_post_2(self):
        """
        requestOptions can override default query parameters
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"query":"myQueryParameter"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "myQueryParameter"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_3(self):
        """
        requestOptions merges query parameters with default ones
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"query2":"myQueryParameter"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "query2": "myQueryParameter"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_4(self):
        """
        requestOptions can override default headers
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "headers": loads("""{"x-algolia-api-key":"ALGOLIA_API_KEY"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {"x-algolia-api-key": "ALGOLIA_API_KEY"}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_5(self):
        """
        requestOptions merges headers with default ones
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "headers": loads("""{"x-algolia-api-key":"ALGOLIA_API_KEY"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {"x-algolia-api-key": "ALGOLIA_API_KEY"}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_6(self):
        """
        requestOptions queryParameters accepts booleans
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"isItWorking":true}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "isItWorking": "true"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_7(self):
        """
        requestOptions queryParameters accepts integers
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":2}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "2"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_8(self):
        """
        requestOptions queryParameters accepts list of string
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":["b and c","d"]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "b%20and%20c%2Cd"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_9(self):
        """
        requestOptions queryParameters accepts list of booleans
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":[true,true,false]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "true%2Ctrue%2Cfalse"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_post_10(self):
        """
        requestOptions queryParameters accepts list of integers
        """
        _req = await self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":[1,2]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "1%2C2"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    async def test_custom_put_(self):
        """
        allow put method for a custom path with minimal parameters
        """
        _req = await self._client.custom_put_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "PUT"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    async def test_custom_put_1(self):
        """
        allow put method for a custom path with all parameters
        """
        _req = await self._client.custom_put_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
            body={
                "body": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "PUT"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"body":"parameters"}""")

    async def test_delete_recommend_rule_(self):
        """
        deleteRecommendRule
        """
        _req = await self._client.delete_recommend_rule_with_http_info(
            index_name="indexName",
            model="related-products",
            object_id="objectID",
        )

        assert (
            _req.path
            == "/1/indexes/indexName/related-products/recommend/rules/objectID"
        )
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_get_recommend_rule_(self):
        """
        getRecommendRule
        """
        _req = await self._client.get_recommend_rule_with_http_info(
            index_name="indexName",
            model="related-products",
            object_id="objectID",
        )

        assert (
            _req.path
            == "/1/indexes/indexName/related-products/recommend/rules/objectID"
        )
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_get_recommend_status_(self):
        """
        getRecommendStatus
        """
        _req = await self._client.get_recommend_status_with_http_info(
            index_name="indexName",
            model="related-products",
            task_id=12345,
        )

        assert _req.path == "/1/indexes/indexName/related-products/task/12345"
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    async def test_get_recommendations_(self):
        """
        get recommendations for recommend model with minimal parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "objectID": "objectID",
                        "model": "related-products",
                        "threshold": 42.1,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","objectID":"objectID","model":"related-products","threshold":42.1}]}"""
        )

    async def test_get_recommendations_1(self):
        """
        get recommendations with e2e to check oneOf model
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "cts_e2e_browse",
                        "objectID": "Æon Flux",
                        "model": "related-products",
                        "threshold": 20.0,
                        "maxRecommendations": 2,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"cts_e2e_browse","objectID":"Æon Flux","model":"related-products","threshold":20.0,"maxRecommendations":2}]}"""
        )

    async def test_get_recommendations_2(self):
        """
        get recommendations for recommend model with all parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "objectID": "objectID",
                        "model": "related-products",
                        "threshold": 42.1,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","objectID":"objectID","model":"related-products","threshold":42.1,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback"]}}]}"""
        )

    async def test_get_recommendations_3(self):
        """
        get recommendations for trending model with minimal parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "model": "trending-items",
                        "threshold": 42.1,
                        "facetName": "facet",
                        "facetValue": "value",
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","model":"trending-items","threshold":42.1,"facetName":"facet","facetValue":"value"}]}"""
        )

    async def test_get_recommendations_4(self):
        """
        get recommendations for trending model with all parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "model": "trending-items",
                        "threshold": 42.1,
                        "maxRecommendations": 10,
                        "facetName": "myFacetName",
                        "facetValue": "myFacetValue",
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","model":"trending-items","threshold":42.1,"maxRecommendations":10,"facetName":"myFacetName","facetValue":"myFacetValue","queryParameters":{"query":"myQuery","facetFilters":["query"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback"]}}]}"""
        )

    async def test_get_recommendations_5(self):
        """
        get multiple recommendations with minimal parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "related-products",
                        "threshold": 21.7,
                    },
                    {
                        "indexName": "indexName2",
                        "objectID": "objectID2",
                        "model": "related-products",
                        "threshold": 21.7,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"related-products","threshold":21.7},{"indexName":"indexName2","objectID":"objectID2","model":"related-products","threshold":21.7}]}"""
        )

    async def test_get_recommendations_6(self):
        """
        get multiple recommendations with all parameters
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "related-products",
                        "threshold": 21.7,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query1",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback1",
                            ],
                        },
                    },
                    {
                        "indexName": "indexName2",
                        "objectID": "objectID2",
                        "model": "related-products",
                        "threshold": 21.7,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query2",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback2",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"related-products","threshold":21.7,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query1"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback1"]}},{"indexName":"indexName2","objectID":"objectID2","model":"related-products","threshold":21.7,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query2"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback2"]}}]}"""
        )

    async def test_get_recommendations_7(self):
        """
        get frequently bought together recommendations
        """
        _req = await self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "bought-together",
                        "threshold": 42.7,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"bought-together","threshold":42.7}]}"""
        )

    async def test_search_recommend_rules_(self):
        """
        searchRecommendRules
        """
        _req = await self._client.search_recommend_rules_with_http_info(
            index_name="indexName",
            model="related-products",
        )

        assert (
            _req.path == "/1/indexes/indexName/related-products/recommend/rules/search"
        )
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")


class TestRecommendClientSync:
    _config = RecommendConfig("test_app_id", "test_api_key")
    _client = RecommendClientSync.create_with_config(
        config=_config, transporter=EchoTransporterSync(_config)
    )

    def test_batch_recommend_rules_(self):
        """
        batch recommend rules
        """
        _req = self._client.batch_recommend_rules_with_http_info(
            index_name="indexName",
            model="related-products",
        )

        assert (
            _req.path == "/1/indexes/indexName/related-products/recommend/rules/batch"
        )
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    def test_custom_delete_(self):
        """
        allow del method for a custom path with minimal parameters
        """
        _req = self._client.custom_delete_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_custom_delete_1(self):
        """
        allow del method for a custom path with all parameters
        """
        _req = self._client.custom_delete_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_custom_get_(self):
        """
        allow get method for a custom path with minimal parameters
        """
        _req = self._client.custom_get_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_custom_get_1(self):
        """
        allow get method for a custom path with all parameters
        """
        _req = self._client.custom_get_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters with space",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "GET"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters%20with%20space"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_custom_get_2(self):
        """
        requestOptions should be escaped too
        """
        _req = self._client.custom_get_with_http_info(
            path="test/all",
            parameters={
                "query": "to be overridden",
            },
            request_options={
                "headers": loads("""{"x-header-1":"spaces are left alone"}"""),
                "query_parameters": loads(
                    """{"query":"parameters with space","and an array":["array","with spaces"]}"""
                ),
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "GET"
        assert (
            _req.query_parameters.items()
            == {
                "query": "parameters%20with%20space",
                "and%20an%20array": "array%2Cwith%20spaces",
            }.items()
        )
        assert _req.headers.items() >= {"x-header-1": "spaces are left alone"}.items()
        assert _req.data is None

    def test_custom_post_(self):
        """
        allow post method for a custom path with minimal parameters
        """
        _req = self._client.custom_post_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    def test_custom_post_1(self):
        """
        allow post method for a custom path with all parameters
        """
        _req = self._client.custom_post_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
            body={
                "body": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"body":"parameters"}""")

    def test_custom_post_2(self):
        """
        requestOptions can override default query parameters
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"query":"myQueryParameter"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "myQueryParameter"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_3(self):
        """
        requestOptions merges query parameters with default ones
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"query2":"myQueryParameter"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "query2": "myQueryParameter"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_4(self):
        """
        requestOptions can override default headers
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "headers": loads("""{"x-algolia-api-key":"ALGOLIA_API_KEY"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {"x-algolia-api-key": "ALGOLIA_API_KEY"}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_5(self):
        """
        requestOptions merges headers with default ones
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "headers": loads("""{"x-algolia-api-key":"ALGOLIA_API_KEY"}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {"x-algolia-api-key": "ALGOLIA_API_KEY"}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_6(self):
        """
        requestOptions queryParameters accepts booleans
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"isItWorking":true}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "isItWorking": "true"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_7(self):
        """
        requestOptions queryParameters accepts integers
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":2}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "2"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_8(self):
        """
        requestOptions queryParameters accepts list of string
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":["b and c","d"]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "b%20and%20c%2Cd"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_9(self):
        """
        requestOptions queryParameters accepts list of booleans
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":[true,true,false]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "true%2Ctrue%2Cfalse"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_post_10(self):
        """
        requestOptions queryParameters accepts list of integers
        """
        _req = self._client.custom_post_with_http_info(
            path="test/requestOptions",
            parameters={
                "query": "parameters",
            },
            body={
                "facet": "filters",
            },
            request_options={
                "query_parameters": loads("""{"myParam":[1,2]}"""),
            },
        )

        assert _req.path == "/test/requestOptions"
        assert _req.verb == "POST"
        assert (
            _req.query_parameters.items()
            == {"query": "parameters", "myParam": "1%2C2"}.items()
        )
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"facet":"filters"}""")

    def test_custom_put_(self):
        """
        allow put method for a custom path with minimal parameters
        """
        _req = self._client.custom_put_with_http_info(
            path="test/minimal",
        )

        assert _req.path == "/test/minimal"
        assert _req.verb == "PUT"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

    def test_custom_put_1(self):
        """
        allow put method for a custom path with all parameters
        """
        _req = self._client.custom_put_with_http_info(
            path="test/all",
            parameters={
                "query": "parameters",
            },
            body={
                "body": "parameters",
            },
        )

        assert _req.path == "/test/all"
        assert _req.verb == "PUT"
        assert _req.query_parameters.items() == {"query": "parameters"}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{"body":"parameters"}""")

    def test_delete_recommend_rule_(self):
        """
        deleteRecommendRule
        """
        _req = self._client.delete_recommend_rule_with_http_info(
            index_name="indexName",
            model="related-products",
            object_id="objectID",
        )

        assert (
            _req.path
            == "/1/indexes/indexName/related-products/recommend/rules/objectID"
        )
        assert _req.verb == "DELETE"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_get_recommend_rule_(self):
        """
        getRecommendRule
        """
        _req = self._client.get_recommend_rule_with_http_info(
            index_name="indexName",
            model="related-products",
            object_id="objectID",
        )

        assert (
            _req.path
            == "/1/indexes/indexName/related-products/recommend/rules/objectID"
        )
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_get_recommend_status_(self):
        """
        getRecommendStatus
        """
        _req = self._client.get_recommend_status_with_http_info(
            index_name="indexName",
            model="related-products",
            task_id=12345,
        )

        assert _req.path == "/1/indexes/indexName/related-products/task/12345"
        assert _req.verb == "GET"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert _req.data is None

    def test_get_recommendations_(self):
        """
        get recommendations for recommend model with minimal parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "objectID": "objectID",
                        "model": "related-products",
                        "threshold": 42.1,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","objectID":"objectID","model":"related-products","threshold":42.1}]}"""
        )

    def test_get_recommendations_1(self):
        """
        get recommendations with e2e to check oneOf model
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "cts_e2e_browse",
                        "objectID": "Æon Flux",
                        "model": "related-products",
                        "threshold": 20.0,
                        "maxRecommendations": 2,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"cts_e2e_browse","objectID":"Æon Flux","model":"related-products","threshold":20.0,"maxRecommendations":2}]}"""
        )

    def test_get_recommendations_2(self):
        """
        get recommendations for recommend model with all parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "objectID": "objectID",
                        "model": "related-products",
                        "threshold": 42.1,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","objectID":"objectID","model":"related-products","threshold":42.1,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback"]}}]}"""
        )

    def test_get_recommendations_3(self):
        """
        get recommendations for trending model with minimal parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "model": "trending-items",
                        "threshold": 42.1,
                        "facetName": "facet",
                        "facetValue": "value",
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","model":"trending-items","threshold":42.1,"facetName":"facet","facetValue":"value"}]}"""
        )

    def test_get_recommendations_4(self):
        """
        get recommendations for trending model with all parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName",
                        "model": "trending-items",
                        "threshold": 42.1,
                        "maxRecommendations": 10,
                        "facetName": "myFacetName",
                        "facetValue": "myFacetValue",
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName","model":"trending-items","threshold":42.1,"maxRecommendations":10,"facetName":"myFacetName","facetValue":"myFacetValue","queryParameters":{"query":"myQuery","facetFilters":["query"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback"]}}]}"""
        )

    def test_get_recommendations_5(self):
        """
        get multiple recommendations with minimal parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "related-products",
                        "threshold": 21.7,
                    },
                    {
                        "indexName": "indexName2",
                        "objectID": "objectID2",
                        "model": "related-products",
                        "threshold": 21.7,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"related-products","threshold":21.7},{"indexName":"indexName2","objectID":"objectID2","model":"related-products","threshold":21.7}]}"""
        )

    def test_get_recommendations_6(self):
        """
        get multiple recommendations with all parameters
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "related-products",
                        "threshold": 21.7,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query1",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback1",
                            ],
                        },
                    },
                    {
                        "indexName": "indexName2",
                        "objectID": "objectID2",
                        "model": "related-products",
                        "threshold": 21.7,
                        "maxRecommendations": 10,
                        "queryParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "query2",
                            ],
                        },
                        "fallbackParameters": {
                            "query": "myQuery",
                            "facetFilters": [
                                "fallback2",
                            ],
                        },
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"related-products","threshold":21.7,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query1"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback1"]}},{"indexName":"indexName2","objectID":"objectID2","model":"related-products","threshold":21.7,"maxRecommendations":10,"queryParameters":{"query":"myQuery","facetFilters":["query2"]},"fallbackParameters":{"query":"myQuery","facetFilters":["fallback2"]}}]}"""
        )

    def test_get_recommendations_7(self):
        """
        get frequently bought together recommendations
        """
        _req = self._client.get_recommendations_with_http_info(
            get_recommendations_params={
                "requests": [
                    {
                        "indexName": "indexName1",
                        "objectID": "objectID1",
                        "model": "bought-together",
                        "threshold": 42.7,
                    },
                ],
            },
        )

        assert _req.path == "/1/indexes/*/recommendations"
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads(
            """{"requests":[{"indexName":"indexName1","objectID":"objectID1","model":"bought-together","threshold":42.7}]}"""
        )

    def test_search_recommend_rules_(self):
        """
        searchRecommendRules
        """
        _req = self._client.search_recommend_rules_with_http_info(
            index_name="indexName",
            model="related-products",
        )

        assert (
            _req.path == "/1/indexes/indexName/related-products/recommend/rules/search"
        )
        assert _req.verb == "POST"
        assert _req.query_parameters.items() == {}.items()
        assert _req.headers.items() >= {}.items()
        assert loads(_req.data) == loads("""{}""")

import Foundation
#if os(Linux) // For linux interop
  import FoundationNetworking
#endif

import Core
{{> snippets/import}}

func searchWithAnalyticsAndHeader() async throws {
  do {
    {{> snippets/init}}

    /*
    '94.228.178.246' should be replaced with your user's IP address.
    Depending on your stack there are multiple ways to get this information.
    */
    let ip = "94.228.178.246"
    let query = "query"

    let searchParams = SearchSearchParams.searchSearchParamsObject(
        SearchSearchParamsObject(
          query: query,
          analytics: true
        )
    )

    let _: SearchResponse<Hit> = {{#dynamicSnippet}}searchWithSearchParamsAndForwardedHeader{{/dynamicSnippet}}
  } catch {
    print(error)
  }
}


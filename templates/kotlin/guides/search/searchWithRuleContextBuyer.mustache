{{> snippets/import}}
import com.algolia.client.model.search.*

val getBuyerAccountId: () -> String = {
    "" // Implement your logic here
}

suspend fun searchWithRuleContextBuyer() {
  {{> snippets/init}}

  // get the buyer account information
  val buyer = getBuyerAccountId()
  val searchParams = SearchParamsObject(query = "<YOUR_SEARCH_QUERY>", ruleContexts = listOf(buyer))

  client.{{#dynamicSnippet}}searchWithSearchParams{{/dynamicSnippet}}
}
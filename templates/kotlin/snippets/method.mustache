// {{generationBanner}}
package com.algolia.snippets

// >IMPORT
import com.algolia.client.api.{{client}}
{{#isSearchClient}}
import com.algolia.client.extensions.*
{{/isSearchClient}}
// IMPORT<
import com.algolia.client.model.{{import}}.*
import kotlinx.serialization.json.*
import kotlin.system.exitProcess

class Snippet{{client}} {
  {{#blocksRequests}}
  {{#snippets}}
  suspend fun snippetFor{{#lambda.pascalcase}}{{method}}{{/lambda.pascalcase}}{{testIndex}}() {
      // >SEPARATOR {{method}} {{testName}}
      // Initialize the client
      val client = {{client}}(appId = "ALGOLIA_APPLICATION_ID", apiKey = "ALGOLIA_API_KEY"{{#hasRegionalHost}}, region = "ALGOLIA_APPLICATION_REGION"{{/hasRegionalHost}})

      // Call the API
      {{#hasResponse}}var response = {{/hasResponse}}client.{{> tests/method}}
      
      // >LOG
      {{#hasResponse}}
      // Use the response
      println(response)
      {{/hasResponse}}
      // SEPARATOR<

      exitProcess(0)
  }

  {{/snippets}}
  {{/blocksRequests}}
}
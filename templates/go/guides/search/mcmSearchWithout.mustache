package main

import (
  "encoding/json"
  "fmt"
  "net/http"
)

{{> snippets/import}}

func getAppIDFor(_ string) (string, error) {
  return "", nil // Implement your logic here
}

func getIndexingApiKeyFor(_ string) (string, error) {
  return "", nil // Implement your logic here
}

func mcmSearchWithout() {
  // Fetch from your own data storage and with your own code
  // the associated application ID and API key for this user
  appID, err := getAppIDFor("user42")
  if err != nil {
    fmt.Println(err)
    return
  }

  apiKey, err := getIndexingApiKeyFor("user42")
  if err != nil {
    fmt.Println(err)
    return
  }

  client, err := search.NewClient(appID, apiKey)
  if err != nil {
    fmt.Println(err)
    return
  }

  searchParams := search.SearchParamsObjectAsSearchParams(
    search.NewSearchParamsObject().
      SetQuery("<YOUR_SEARCH_QUERY>").
      SetFacetFilters([]string{"user:user42", "user:public"}),
  )

  _, err = {{#dynamicSnippet}}searchWithSearchParams{{/dynamicSnippet}}
  if err != nil {
    panic(err)
  }
}